<div *ngIf="loading" class="text-center my-4">Chargement...</div>

<div *ngIf="!loading && biens.length === 0" class="text-center text-muted my-4">
  Vous n'avez pas encore ajoutÃ© d'annonces.
</div>

<div *ngIf="!loading && biens.length > 0" class="row justify-content-center">
  <div *ngFor="let bien of biens" class="col-sm-6 col-md-4 col-lg-3 mb-4">
    <div class="card bien-card shadow-sm h-100 border-0 rounded-4 position-relative">
      
      <!-- ğŸ‘‘ Luxe badge -->
      <span *ngIf="bien.luxe"
            class="badge-luxe position-absolute top-0 end-0 m-2 px-2 py-1 rounded-pill">
        ğŸ‘‘ Luxe
      </span>

      <div class="card-body p-3 text-center">
        <h6 class="fw-bold text-teal mb-2">{{ bien.type?.type_de_bien }}</h6>
        <p class="fw-semibold mb-2 text-dark">{{ bien.adresse }}</p>
        <p class="text-muted small mb-2">
          ğŸ“ {{ bien.emplacement?.ville }}, {{ bien.emplacement?.pays }}
        </p>

        <p class="fw-bold text-gold mb-2">{{ bien.prix | number }} â‚¬</p>

        <p class="small mb-2">
          <strong>ActivitÃ© :</strong> {{ bien.typeActivite?.type_activite }}
        </p>

        <p class="small mb-2">
          <strong>DisponibilitÃ© :</strong>
          <span [ngClass]="bien.disponibilite ? 'text-success' : 'text-danger'">
            {{ bien.disponibilite ? 'Disponible' : 'Non disponible' }}
          </span>
        </p>

        <div class="btn-group-custom mt-3 d-flex justify-content-center flex-wrap">
          <button
            class="btn btn-sm btn-outline-teal rounded-pill px-3 m-1"
            (click)="viewBien(bien.id)"
          >
            ğŸ‘ï¸ Voir
          </button>
          <button
            class="btn btn-sm btn-outline-gold rounded-pill px-3 m-1"
            (click)="editBien(bien.id)"
          >
            âœï¸ Modifier
          </button>
          <button
            class="btn btn-sm btn-outline-danger rounded-pill px-3 m-1"
            (click)="deleteBien(bien.id)"
          >
            ğŸ—‘ï¸ Supprimer
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
